<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Button Lab üöÄ</title>
<style>
body {
  margin:0;
  font-family:Arial,sans-serif;
  background:#111;
  color:white;
  min-height:100vh;
}
button {
  padding:15px 30px; font-size:1.2rem; border:none; border-radius:50px; cursor:pointer;
  color:white; background:linear-gradient(90deg,#ff00cc,#3333ff); transition:0.3s; position:relative;
}
button:hover { transform:scale(1.1); }
#guiContainer {
  position:fixed; top:0; left:0; width:100%; background:#222; padding:10px;
  display:flex; flex-wrap:wrap; align-items:center; justify-content:center; z-index:1000;
  gap:10px;
}
#homeSection,#playSection {
  margin-top:140px; display:flex; flex-direction:column; align-items:center;
  min-height:calc(100vh - 140px);
}
#buttonContainer {
  display:flex; flex-wrap:wrap; justify-content:center; gap:10px;
}
#settingsModal,#shopModal {
  display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%);
  background:#222; padding:30px; border-radius:15px; box-shadow:0 0 30px #00ffff;
  z-index:1001;
}
#settingsModal button,#shopModal button { margin-top:15px; }
</style>
</head>
<body>

<!-- GUI -->
<div id="guiContainer">
  <div class="coins">üí∞ Coins: <span id="coins">0</span></div>
  <div class="button-row" id="mainButtons">
    <button id="playBtn">Play</button>
    <button id="settingsBtn">Settings</button>
    <button id="launchBtn">Launch</button>
    <button id="surpriseBtn">Surprise</button>
    <button id="colorBurstBtn">Color Burst</button>
    <button id="confettiBtn">Confetti</button>
    <button id="shopBtn">Shop</button>
    <button id="saveBtn">üíæ Save</button>
    <button id="resetSaveBtn">‚ö†Ô∏è Reset Save</button>
  </div>
</div>

<!-- Home Section -->
<div id="homeSection">
  <div id="buttonContainer"></div>
</div>

<!-- Play Section -->
<div id="playSection" style="display:none; text-align:center;">
  <h2>Coin Clicker!</h2>
  <div id="gameCoins">Coins: 0</div>
  <button id="gameClickBtn">Click Me!</button>
  <button id="gameBackBtn">‚¨Ö Back</button>
</div>

<!-- Settings Modal -->
<div id="settingsModal">
  <h2>Settings</h2>
  <label>Background Color: <input type="color" id="bgColorPicker" value="#111111"></label>
  <br>
  <button id="closeSettings">Close</button>
</div>

<!-- Shop Modal -->
<div id="shopModal">
  <h2>Shop</h2>
  <div id="shopItems" style="display:flex; flex-wrap:wrap; gap:10px;"></div>
  <button id="closeShop">Close</button>
</div>

<!-- Sounds -->
<audio id="clickSound" src="https://freesound.org/data/previews/320/320181_5260877-lq.mp3"></audio>
<audio id="buySound" src="https://freesound.org/data/previews/522/522180_5121236-lq.mp3"></audio>
<audio id="aiSound" src="https://freesound.org/data/previews/198/198841_2859970-lq.mp3"></audio>

<script>
// ---- Persistent Data ----
let coins = parseInt(localStorage.getItem('coins')) || 0;
let purchasedButtons = JSON.parse(localStorage.getItem('purchasedButtons')) || [];
let autoClickers = parseInt(localStorage.getItem('autoClickers')) || 0;
let coinMultiplier = parseInt(localStorage.getItem('coinMultiplier')) || 1;
let bgColor = localStorage.getItem('bgColor') || '#111111';
let buttonsBought = parseInt(localStorage.getItem('buttonsBought')) || 0;
let autoClickerPrice = parseInt(localStorage.getItem('autoClickerPrice')) || 50;
let multiplierPrice = parseInt(localStorage.getItem('multiplierPrice')) || 30;

document.body.style.background = bgColor;
const buttonContainer = document.getElementById('buttonContainer');
updateCoins();

// ---- Sounds ----
const clickSound = document.getElementById('clickSound');
const buySound = document.getElementById('buySound');
const aiSound = document.getElementById('aiSound');

// ---- Functions ----
function updateCoins(){
  document.getElementById('coins').textContent = coins;
  const gameCoins = document.getElementById('gameCoins');
  if(gameCoins) gameCoins.textContent = `Coins: ${coins}`;
}

function addButtonToHome(name){
  const btn = document.createElement('button');
  btn.textContent = name;
  const emojis=['üéâ','üí•','‚ú®','üî•','üåà','üöÄ','üõ∏','üíé','üç≠','‚ö°'];
  btn.addEventListener('click',()=>{
    alert(`You pressed ${name}! ${emojis[Math.floor(Math.random()*emojis.length)]}`);
    clickSound.play();
  });
  buttonContainer.appendChild(btn);
}

// Restore purchased buttons
purchasedButtons.forEach(name=>addButtonToHome(name));

// ---- Auto Clickers ----
function startAutoClickers(){
  if(autoClickers>0){
    setInterval(()=>{
      coins += autoClickers*coinMultiplier;
      updateCoins();
    },1000);
  }
}
startAutoClickers();

// ---- GUI Buttons ----
const homeSection = document.getElementById('homeSection');
const playSection = document.getElementById('playSection');

document.getElementById('playBtn').addEventListener('click',()=>{
  homeSection.style.display='none';
  playSection.style.display='flex';
});

document.getElementById('gameBackBtn').addEventListener('click',()=>{
  playSection.style.display='none';
  homeSection.style.display='flex';
});

document.getElementById('gameClickBtn').addEventListener('click',()=>{
  coins += coinMultiplier;
  updateCoins();
  localStorage.setItem('coins',coins);
  clickSound.play();
});

document.getElementById('launchBtn').addEventListener('click',()=>window.location.href='launch.html');

document.getElementById('surpriseBtn').addEventListener('click',()=>{
  const emojis=['üéâ','ü™ê','üí•','‚ú®','üî•','üåà','üöÄ'];
  alert(`Surprise! ${emojis[Math.floor(Math.random()*emojis.length)]}`);
  clickSound.play();
});

document.getElementById('colorBurstBtn').addEventListener('click',()=>{
  document.querySelectorAll('button').forEach(btn=>{
    const r=Math.floor(Math.random()*256),g=Math.floor(Math.random()*256),b=Math.floor(Math.random()*256);
    btn.style.background=`rgb(${r},${g},${b})`;
  });
  clickSound.play();
});

document.getElementById('confettiBtn').addEventListener('click',()=>{
  for(let i=0;i<50;i++){
    const conf=document.createElement('div');
    conf.style.position='fixed';
    conf.style.top='0';
    conf.style.left=Math.random()*100+'vw';
    conf.style.width=conf.style.height='10px';
    conf.style.background=`hsl(${Math.random()*360},80%,60%)`;
    conf.style.opacity=0.7;
    conf.style.animation='fall 3s linear forwards';
    document.body.appendChild(conf);
    setTimeout(()=>document.body.removeChild(conf),3000);
  }
  clickSound.play();
});

// ---- Settings ----
const settingsModal = document.getElementById('settingsModal');
document.getElementById('settingsBtn').addEventListener('click',()=>settingsModal.style.display='block');
document.getElementById('closeSettings').addEventListener('click',()=>settingsModal.style.display='none');
document.getElementById('bgColorPicker').addEventListener('input',e=>{
  bgColor = e.target.value;
  document.body.style.background = bgColor;
});

// ---- Shop ----
const shopModal = document.getElementById('shopModal');
const shopItemsDiv = document.getElementById('shopItems');
document.getElementById('shopBtn').addEventListener('click',()=>shopModal.style.display='block');
document.getElementById('closeShop').addEventListener('click',()=>shopModal.style.display='none');

function createShopButton(name, cost, type){
  const btn = document.createElement('button');
  btn.textContent = `${name} (Cost: ${cost})`;
  btn.addEventListener('click',()=>{
    if(coins>=cost){
      coins -= cost;
      updateCoins();
      buySound.play();

      if(type==='button'){
        purchasedButtons.push(name);
        addButtonToHome(name);
        buttonsBought++;
        localStorage.setItem('purchasedButtons',JSON.stringify(purchasedButtons));
        localStorage.setItem('buttonsBought',buttonsBought);
        shopItemsDiv.removeChild(btn);

        // AI assistant: every 3 purchased buttons, add 3 AI buttons to shop
        if(buttonsBought % 3 === 0){
          for(let i=0;i<3;i++){
            const aiName = `AI Button ${Date.now()+i}`;
            createShopButton(aiName, 15, 'button'); // AI buttons go to shop
          }
          aiSound.play();
          alert("ü§ñ AI Assistant restocked the shop with 3 new buttons!");
        }
      }

      if(type==='auto'){
        autoClickers++;
        localStorage.setItem('autoClickers', autoClickers);
        startAutoClickers();
        autoClickerPrice = Math.floor(autoClickerPrice * 1.5);
        btn.textContent = `Auto-Clicker (Cost: ${autoClickerPrice})`;
      }

      if(type==='multiplier'){
        coinMultiplier++;
        localStorage.setItem('coinMultiplier', coinMultiplier);
        multiplierPrice = Math.floor(multiplierPrice * 1.5);
        btn.textContent = `Coin Upgrade +1 (Cost: ${multiplierPrice})`;
      }

    } else alert("Not enough coins!");
  });
  shopItemsDiv.appendChild(btn);
}

// ---- Initial Shop Items ----
const starterButtons = ['Fun Button','Starter Play','Starter Surprise','Color Button','Emoji Button','Confetti Button','Rainbow Button'];
starterButtons.forEach(b=>createShopButton(b, Math.floor(Math.random()*10)+5,'button'));
createShopButton('Auto-Clicker',autoClickerPrice,'auto');
createShopButton('Coin Upgrade +1',multiplierPrice,'multiplier');
createShopButton('Mega Fun Button',20,'button');
createShopButton('Super Color Burst',25,'button');
createShopButton('Lucky Emoji',15,'button');

// ---- Save / Reset ----
document.getElementById('saveBtn').addEventListener('click',()=>{
  localStorage.setItem('coins',coins);
  localStorage.setItem('purchasedButtons',JSON.stringify(purchasedButtons));
  localStorage.setItem('autoClickers',autoClickers);
  localStorage.setItem('coinMultiplier',coinMultiplier);
  localStorage.setItem('bgColor',bgColor);
  localStorage.setItem('buttonsBought',buttonsBought);
  localStorage.setItem('autoClickerPrice',autoClickerPrice);
  localStorage.setItem('multiplierPrice',multiplierPrice);
  alert("Game Saved! üíæ");
});

document.getElementById('resetSaveBtn').addEventListener('click',()=>{
  if(confirm("Are you sure you want to reset your save?")){
    coins=0; purchasedButtons=[]; autoClickers=0; coinMultiplier=1; bgColor='#111111';
    buttonsBought=0; autoClickerPrice=50; multiplierPrice=30;
    localStorage.clear(); updateCoins(); buttonContainer.innerHTML=''; shopItemsDiv.innerHTML='';
    document.body.style.background=bgColor;
    alert("Save Reset! ‚ö†Ô∏è");
    location.reload();
  }
});
</script>
</body>
</html>

