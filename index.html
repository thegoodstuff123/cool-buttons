<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Button Lab üöÄ</title>
<style>
body {
  margin:0;
  font-family:Arial,sans-serif;
  background:#111;
  color:white;
  min-height:100vh;
}
button {
  padding:15px 30px; font-size:1.2rem; border:none; border-radius:50px; cursor:pointer;
  color:white; background:linear-gradient(90deg,#ff00cc,#3333ff); transition:0.3s; position:relative;
}
button:hover { transform:scale(1.1); }
#guiContainer {
  position:fixed; top:0; left:0; width:100%; background:#222; padding:10px;
  display:flex; flex-wrap:wrap; align-items:center; justify-content:center; z-index:1000;
  gap:10px;
}
#buttonContainer {
  margin-top:120px;
  display:flex; flex-wrap:wrap; justify-content:center; gap:10px;
}
#settingsModal,#shopModal {
  display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%);
  background:#222; padding:30px; border-radius:15px; box-shadow:0 0 30px #00ffff;
  z-index:1001;
}
#settingsModal button,#shopModal button { margin-top:15px; }
</style>
</head>
<body>

<div id="guiContainer">
  <div class="coins">üí∞ Coins: <span id="coins">0</span></div>
  <div class="button-row" id="mainButtons">
    <button id="playBtn">Play</button>
    <button id="settingsBtn">Settings</button>
    <button id="launchBtn">Launch</button>
    <button id="surpriseBtn">Surprise</button>
    <button id="colorBurstBtn">Color Burst</button>
    <button id="confettiBtn">Confetti</button>
    <button id="shopBtn">Shop</button>
    <button id="saveBtn">üíæ Save</button>
    <button id="resetSaveBtn">‚ö†Ô∏è Reset Save</button>
  </div>
</div>

<div id="buttonContainer">
  <!-- Purchased buttons (including AI buttons) appear here -->
</div>

<!-- Settings Modal -->
<div id="settingsModal">
  <h2>Settings</h2>
  <label>Background Color: <input type="color" id="bgColorPicker" value="#111111"></label>
  <br>
  <button id="closeSettings">Close</button>
</div>

<!-- Shop Modal -->
<div id="shopModal">
  <h2>Shop</h2>
  <div id="shopItems"></div>
  <button id="closeShop">Close</button>
</div>

<script>
// ---- Persistent Data ----
let coins = parseInt(localStorage.getItem('coins')) || 0;
let purchasedButtons = JSON.parse(localStorage.getItem('purchasedButtons')) || [];
let autoClickers = parseInt(localStorage.getItem('autoClickers')) || 0;
let coinMultiplier = parseInt(localStorage.getItem('coinMultiplier')) || 1;
let bgColor = localStorage.getItem('bgColor') || '#111111';
let buttonsBought = parseInt(localStorage.getItem('buttonsBought')) || 0;

// Prices
let autoClickerPrice = parseInt(localStorage.getItem('autoClickerPrice')) || 50;
let multiplierPrice = parseInt(localStorage.getItem('multiplierPrice')) || 30;

document.body.style.background = bgColor;
updateCoins();

// ---- Functions ----
function updateCoins(){
  document.getElementById('coins').textContent = coins;
}

const buttonContainer = document.getElementById('buttonContainer');

function addButtonToHome(name){
  const btn = document.createElement('button');
  btn.textContent = name;
  const emojis=['üéâ','üí•','‚ú®','üî•','üåà','üöÄ','üõ∏'];
  btn.addEventListener('click',()=>{
    alert(`You pressed ${name}! ${emojis[Math.floor(Math.random()*emojis.length)]}`);
  });
  buttonContainer.appendChild(btn);
}

// Restore purchased buttons
purchasedButtons.forEach(name=>addButtonToHome(name));

// ---- Auto Clickers ----
function startAutoClickers(){
  if(autoClickers>0){
    setInterval(()=>{
      coins += autoClickers*coinMultiplier;
      updateCoins();
    },1000);
  }
}
startAutoClickers();

// ---- Main Buttons ----
document.getElementById('playBtn').addEventListener('click',()=>alert("Game Start! (Coin clicking works below)"));
document.getElementById('launchBtn').addEventListener('click',()=>window.location.href='launch.html');
document.getElementById('surpriseBtn').addEventListener('click',()=>{
  const emojis=['üéâ','ü™ê','üí•','‚ú®','üî•','üåà','üöÄ'];
  alert(`Surprise! ${emojis[Math.floor(Math.random()*emojis.length)]}`);
});
document.getElementById('colorBurstBtn').addEventListener('click',()=>{
  document.querySelectorAll('button').forEach(btn=>{
    const r=Math.floor(Math.random()*256),g=Math.floor(Math.random()*256),b=Math.floor(Math.random()*256);
    btn.style.background=`rgb(${r},${g},${b})`;
  });
});
document.getElementById('confettiBtn').addEventListener('click',()=>{
  for(let i=0;i<50;i++){
    const conf=document.createElement('div');
    conf.style.position='fixed';
    conf.style.top='0';
    conf.style.left=Math.random()*100+'vw';
    conf.style.width=conf.style.height='10px';
    conf.style.background=`hsl(${Math.random()*360},80%,60%)`;
    conf.style.opacity=0.7;
    conf.style.animation='fall 3s linear forwards';
    document.body.appendChild(conf);
    setTimeout(()=>document.body.removeChild(conf),3000);
  }
});

// ---- Settings ----
const settingsModal = document.getElementById('settingsModal');
document.getElementById('settingsBtn').addEventListener('click',()=>settingsModal.style.display='block');
document.getElementById('closeSettings').addEventListener('click',()=>settingsModal.style.display='none');
document.getElementById('bgColorPicker').addEventListener('input',e=>{
  bgColor = e.target.value;
  document.body.style.background = bgColor;
});

// ---- Shop ----
const shopModal = document.getElementById('shopModal');
const shopItemsDiv = document.getElementById('shopItems');
document.getElementById('shopBtn').addEventListener('click',()=>shopModal.style.display='block');
document.getElementById('closeShop').addEventListener('click',()=>shopModal.style.display='none');

function createShopButton(name, cost, type){
  const btn = document.createElement('button');
  btn.textContent = `${name} (Cost: ${cost})`;
  btn.addEventListener('click',()=>{
    if(coins>=cost){
      coins -= cost;
      updateCoins();

      // ---- Purchased buttons ----
      if(type==='button'){
        purchasedButtons.push(name);
        addButtonToHome(name);
        buttonsBought++;
        localStorage.setItem('buttonsBought', buttonsBought);
        localStorage.setItem('purchasedButtons', JSON.stringify(purchasedButtons));
        shopItemsDiv.removeChild(btn);

        // ---- AI Assistant ----
        if(buttonsBought % 3 === 0){
          for(let i=0;i<3;i++){
            const aiName = `AI Button ${Date.now()+i}`;
            purchasedButtons.push(aiName);
            addButtonToHome(aiName);
          }
          localStorage.setItem('purchasedButtons', JSON.stringify(purchasedButtons));
          alert("ü§ñ AI Assistant activated! Added 3 extra buttons!");
        }
      }

      // ---- Auto-clicker ----
      if(type==='auto'){
        autoClickers++;
        localStorage.setItem('autoClickers', autoClickers);
        startAutoClickers();
        alert(`You now have ${autoClickers} Auto-Clicker(s)!`);
        // scale price
        autoClickerPrice = Math.floor(autoClickerPrice * 1.5);
        btn.textContent = `Auto-Clicker (Cost: ${autoClickerPrice})`;
      }

      // ---- Multiplier ----
      if(type==='multiplier'){
        coinMultiplier++;
        localStorage.setItem('coinMultiplier', coinMultiplier);
        alert(`Coin multiplier increased! Each click gives ${coinMultiplier} coins.`);
        multiplierPrice = Math.floor(multiplierPrice * 1.5);
        btn.textContent = `Coin Upgrade +1 (Cost: ${multiplierPrice})`;
      }

    } else alert("Not enough coins!");
  });
  shopItemsDiv.appendChild(btn);
}

// Initial Shop Items
createShopButton('Fun Button',10,'button');
createShopButton('Starter Button: Play',5,'button');
createShopButton('Starter Button: Surprise',5,'button');
createShopButton('Auto-Clicker',autoClickerPrice,'auto');
createShopButton('Coin Upgrade +1',multiplierPrice,'multiplier');

// ---- Save / Reset ----
document.getElementById('saveBtn').addEventListener('click',()=>{
  localStorage.setItem('coins',coins);
  localStorage.setItem('purchasedButtons',JSON.stringify(purchasedButtons));
  localStorage.setItem('autoClickers',autoClickers);
  localStorage.setItem('coinMultiplier',coinMultiplier);
  localStorage.setItem('bgColor',bgColor);
  localStorage.setItem('buttonsBought',buttonsBought);
  localStorage.setItem('autoClickerPrice',autoClickerPrice);
  localStorage.setItem('multiplierPrice',multiplierPrice);
  alert("Game Saved! üíæ");
});
document.getElementById('resetSaveBtn').addEventListener('click',()=>{
  if(confirm("Are you sure you want to reset your save?")){
    coins=0; purchasedButtons=[]; autoClickers=0; coinMultiplier=1; bgColor='#111111';
    buttonsBought=0; autoClickerPrice=50; multiplierPrice=30;
    localStorage.clear(); updateCoins(); document.body.style.background=bgColor;
    buttonContainer.innerHTML=''; shopItemsDiv.innerHTML='';
    alert("Save Reset! ‚ö†Ô∏è");
    location.reload();
  }
});
</script>
</body>
</html>
